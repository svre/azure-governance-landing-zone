<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.3.4">
  <diagram id="final_vector_v4" name="Final (vector v4 - aesthetic)">
    <mxGraphModel dx="1678" dy="884" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2048" pageHeight="1365" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="10" parent="1" style="rounded=1;arcSize=18;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#c7d0db;fillColor=#f7f9fd;shadow=1;shadowColor=#d8e0ea;" value="" vertex="1">
          <mxGeometry height="1285" width="1928" x="60" y="40" as="geometry" />
        </mxCell>
        <mxCell id="11bar" parent="10" style="rounded=1;arcSize=18;whiteSpace=wrap;html=1;strokeWidth=0;fillColor=#eaf2ff;" value="" vertex="1">
          <mxGeometry height="90" width="1908" x="70" y="50" as="geometry" />
        </mxCell>
        <mxCell id="11" parent="10" style="text;html=1;align=center;verticalAlign=middle;fontSize=30;fontStyle=1;fontColor=#2f3b46;" value="Azure Subscription (Lab: East Asia)" vertex="1">
          <mxGeometry height="40" width="1848" x="100" y="65" as="geometry" />
        </mxCell>
        <mxCell id="12" parent="10" style="text;html=1;align=right;verticalAlign=top;fontSize=16;fontColor=#2f3b46;" value="&lt;b&gt;Lab region&lt;/b&gt;: eastasia (subscription constraint)&lt;br&gt;&lt;b&gt;Target narrative&lt;/b&gt;: southeastasia (Singapore/MAS TRM)" vertex="1">
          <mxGeometry height="60" width="670" x="1268" y="62" as="geometry" />
        </mxCell>
        <mxCell id="20" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#d1d9e2;fillColor=#ffffff;shadow=1;shadowColor=#e1e7ef;" value="" vertex="1">
          <mxGeometry height="300" width="520" x="130" y="200" as="geometry" />
        </mxCell>
        <mxCell id="21" parent="10" style="text;html=1;align=left;verticalAlign=top;fontSize=20;fontStyle=1;fontColor=#1b62b2;" value="Azure Policy Initiative" vertex="1">
          <mxGeometry height="28" width="460" x="160" y="225" as="geometry" />
        </mxCell>
        <mxCell id="22" parent="10" style="text;html=1;align=left;verticalAlign=top;fontSize=16;fontColor=#2f3b46;" value="Allowed locations: &lt;b&gt;eastasia&lt;/b&gt;&lt;br&gt;Target narrative: &lt;b&gt;southeastasia&lt;/b&gt; (documented)&lt;br&gt;&lt;br&gt;• Require tags: &lt;b&gt;CostCenter&lt;/b&gt; / &lt;b&gt;Owner&lt;/b&gt;&lt;br&gt;• &lt;b&gt;Deny Public IP&lt;/b&gt; in spokes&lt;br&gt;  (scoped – exception for FW PIP)" vertex="1">
          <mxGeometry height="210" width="460" x="160" y="270" as="geometry" />
        </mxCell>
        <mxCell id="30" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#d1d9e2;fillColor=#ffffff;" value="" vertex="1">
          <mxGeometry height="560" width="1170" x="680" y="190" as="geometry" />
        </mxCell>
        <mxCell id="31" parent="10" style="text;html=1;align=center;verticalAlign=middle;fontSize=22;fontStyle=1;fontColor=#2f3b46;" value="&lt;b&gt;rg-gov-lz-core&lt;/b&gt;" vertex="1">
          <mxGeometry height="35" width="1170" x="680" y="200" as="geometry" />
        </mxCell>
        <mxCell id="40" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=3;strokeColor=#4b78b6;fillColor=#ffffff;shadow=0;" value="" vertex="1">
          <mxGeometry height="340" width="820" x="750" y="270" as="geometry" />
        </mxCell>
        <mxCell id="41" parent="10" style="text;html=1;align=center;verticalAlign=middle;fontSize=18;fontStyle=1;fontColor=#2f3b46;" value="&lt;b&gt;Hub VNet&lt;/b&gt; 10.0.0.0/16" vertex="1">
          <mxGeometry height="28" width="820" x="750" y="278" as="geometry" />
        </mxCell>
        <mxCell id="42" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f3f7ff;" value="" vertex="1">
          <mxGeometry height="40" width="750" x="785" y="320" as="geometry" />
        </mxCell>
        <mxCell id="42a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=15;fontColor=#2f3b46;" value="&lt;b&gt;&lt;font color=&#39;#1b62b2&#39;&gt;AzureFirewallSubnet&lt;/font&gt;&lt;/b&gt;  10.0.0.0/26" vertex="1">
          <mxGeometry height="32" width="718" x="801" y="324" as="geometry" />
        </mxCell>
        <mxCell id="43" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f3f7ff;" value="" vertex="1">
          <mxGeometry height="80" width="750" x="785" y="365" as="geometry" />
        </mxCell>
        <mxCell id="43a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=14;fontColor=#2f3b46;" value="&lt;b&gt;&lt;font color=&#39;#1b62b2&#39;&gt;Azure Firewall Basic&lt;/font&gt;&lt;/b&gt;   &lt;b&gt;Private&lt;/b&gt;: 10.0.0.4   &lt;b&gt;Public&lt;/b&gt;: (terraform output)" vertex="1">
          <mxGeometry height="45" width="718" x="801" y="382" as="geometry" />
        </mxCell>
        <mxCell id="44" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f3f7ff;" value="" vertex="1">
          <mxGeometry height="40" width="750" x="785" y="450" as="geometry" />
        </mxCell>
        <mxCell id="44a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=15;fontColor=#2f3b46;" value="&lt;b&gt;&lt;font color=&#39;#1b62b2&#39;&gt;AzureBastionSubnet&lt;/font&gt;&lt;/b&gt;  10.0.0.64/26 (Reserved)" vertex="1">
          <mxGeometry height="32" width="718" x="801" y="454" as="geometry" />
        </mxCell>
        <mxCell id="45" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f3f7ff;" value="" vertex="1">
          <mxGeometry height="40" width="750" x="785" y="495" as="geometry" />
        </mxCell>
        <mxCell id="45a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=15;fontColor=#2f3b46;" value="&lt;b&gt;&lt;font color=&#39;#1b62b2&#39;&gt;GatewaySubnet&lt;/font&gt;&lt;/b&gt;  10.0.1.0/27 (Reserved)" vertex="1">
          <mxGeometry height="32" width="718" x="801" y="499" as="geometry" />
        </mxCell>
        <mxCell id="46" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f3f7ff;" value="" vertex="1">
          <mxGeometry height="40" width="750" x="785" y="540" as="geometry" />
        </mxCell>
        <mxCell id="46a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=15;fontColor=#2f3b46;" value="&lt;b&gt;&lt;font color=&#39;#1b62b2&#39;&gt;snet-hub-shared&lt;/font&gt;&lt;/b&gt;  10.0.2.0/24" vertex="1">
          <mxGeometry height="32" width="718" x="801" y="544" as="geometry" />
        </mxCell>
        <mxCell id="60" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#d1d9e2;fillColor=#ffffff;shadow=1;shadowColor=#e1e7ef;" value="" vertex="1">
          <mxGeometry height="190" width="320" x="1495" y="290" as="geometry" />
        </mxCell>
        <mxCell id="61" parent="10" style="text;html=1;align=left;verticalAlign=top;fontSize=18;fontStyle=1;fontColor=#2f3b46;" value="Log Analytics" vertex="1">
          <mxGeometry height="24" width="270" x="1517" y="310" as="geometry" />
        </mxCell>
        <mxCell id="62" parent="10" style="text;html=1;align=left;verticalAlign=top;fontSize=14;fontColor=#2f3b46;" value="&lt;b&gt;AZFW&lt;/b&gt; logs&lt;br&gt;• AZFWNetworkRule&lt;br&gt;• AZFWApplicationRule&lt;br&gt;• AZFWDnsQuery" vertex="1">
          <mxGeometry height="120" width="270" x="1517" y="340" as="geometry" />
        </mxCell>
        <mxCell id="70" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#d1d9e2;fillColor=#ffffff;shadow=1;shadowColor=#e1e7ef;" value="" vertex="1">
          <mxGeometry height="210" width="320" x="1495" y="490" as="geometry" />
        </mxCell>
        <mxCell id="71" parent="10" style="text;html=1;align=left;verticalAlign=top;fontSize=18;fontStyle=1;fontColor=#2f3b46;" value="GitHub Actions" vertex="1">
          <mxGeometry height="24" width="270" x="1517" y="510" as="geometry" />
        </mxCell>
        <mxCell id="72" parent="10" style="text;html=1;align=left;verticalAlign=top;fontSize=14;fontColor=#2f3b46;" value="&lt;b&gt;PR Gate&lt;/b&gt;&lt;br&gt;• terraform fmt / validate / plan&lt;br&gt;• Checkov&lt;br&gt;&lt;i&gt;(failed PR evidence)&lt;/i&gt;" vertex="1">
          <mxGeometry height="150" width="270" x="1517" y="540" as="geometry" />
        </mxCell>
        <mxCell id="pL" parent="10" style="opacity=0;fillOpacity=0;strokeOpacity=0;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="810" y="695" as="geometry" />
        </mxCell>
        <mxCell id="pR" parent="10" style="opacity=0;fillOpacity=0;strokeOpacity=0;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="1500" y="695" as="geometry" />
        </mxCell>
        <mxCell id="pLine" edge="1" parent="10" source="pL" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=6 6;endArrow=none;strokeWidth=2;strokeColor=#6b7280;" target="pR" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="pTxt" parent="10" style="text;html=1;align=center;verticalAlign=middle;fontSize=16;fontStyle=1;fontColor=#4a4a4a;" value="Hub ↔ Spokes (allow forwarded traffic)" vertex="1">
          <mxGeometry height="24" width="520" x="920" y="671" as="geometry" />
        </mxCell>
        <mxCell id="100" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=3;strokeColor=#b06a1d;fillColor=#ffffff;shadow=0;fontSize=18;align=center;verticalAlign=top;fontStyle=1;" value="&lt;b&gt;Spoke-Prod VNet&lt;/b&gt; 10.1.0.0/16" vertex="1">
          <mxGeometry height="450" width="860" x="180" y="760" as="geometry" />
        </mxCell>
        <mxCell id="110" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=3;strokeColor=#7a1a1a;fillColor=#ffffff;shadow=0;fontSize=18;align=center;verticalAlign=top;fontStyle=1;" value="&lt;b&gt;Spoke-NonProd VNet&lt;/b&gt; 10.2.0.0/16" vertex="1">
          <mxGeometry height="450" width="860" x="1070" y="760" as="geometry" />
        </mxCell>
        <mxCell id="100T" parent="10" style="opacity=0;fillOpacity=0;strokeOpacity=0;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="610" y="760" as="geometry" />
        </mxCell>
        <mxCell id="110T" parent="10" style="opacity=0;fillOpacity=0;strokeOpacity=0;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="1500" y="760" as="geometry" />
        </mxCell>
        <mxCell id="pDown1" edge="1" parent="10" source="pL" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#4a4a4a;" target="100T" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="pDown2" edge="1" parent="10" source="pR" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#4a4a4a;" target="110T" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="101" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f6f8fb;fontSize=14;align=center;verticalAlign=middle;" value="snet-app 10.1.10.0/24" vertex="1">
          <mxGeometry height="55" width="360" x="300" y="840" as="geometry" />
        </mxCell>
        <mxCell id="102" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f6f8fb;fontSize=14;align=center;verticalAlign=middle;" value="snet-data 10.1.20.0/24" vertex="1">
          <mxGeometry height="55" width="300" x="700" y="840" as="geometry" />
        </mxCell>
        <mxCell id="111" parent="10" style="rounded=1;arcSize=12;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d1d9e2;fillColor=#f6f8fb;fontSize=14;align=center;verticalAlign=middle;" value="snet-app 10.2.10.0/24" vertex="1">
          <mxGeometry height="55" width="420" x="1220" y="840" as="geometry" />
        </mxCell>
        <mxCell id="103" parent="10" style="rounded=1;arcSize=14;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#b8c7d8;fillColor=none;dashed=1;dashPattern=6 6;" value="" vertex="1">
          <mxGeometry height="150" width="700" x="260" y="930" as="geometry" />
        </mxCell>
        <mxCell id="103a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=14;fontColor=#2f3b46;" value="UDR: 0.0.0.0/0  →  Virtual appliance  →  10.0.0.4" vertex="1">
          <mxGeometry height="30" width="640" x="290" y="990" as="geometry" />
        </mxCell>
        <mxCell id="112" parent="10" style="rounded=1;arcSize=14;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#b8c7d8;fillColor=none;dashed=1;dashPattern=6 6;" value="" vertex="1">
          <mxGeometry height="150" width="700" x="1150" y="930" as="geometry" />
        </mxCell>
        <mxCell id="112a" parent="10" style="text;html=1;align=left;verticalAlign=middle;fontSize=14;fontColor=#2f3b46;" value="UDR: 0.0.0.0/0  →  Virtual appliance  →  10.0.0.4" vertex="1">
          <mxGeometry height="30" width="640" x="1180" y="990" as="geometry" />
        </mxCell>
        <mxCell id="g1" edge="1" parent="10" source="103" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#22a06b;" target="101" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="g2" edge="1" parent="10" source="103" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#22a06b;" target="102" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="g3" edge="1" parent="10" source="112" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#22a06b;" target="111" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="200" parent="10" style="rounded=1;arcSize=16;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#d1d9e2;fillColor=#ffffff;shadow=1;shadowColor=#e1e7ef;fontSize=15;align=center;verticalAlign=middle;" value="&lt;b&gt;Azure Firewall Basic&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;SNAT&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;i&gt;Egress proof: VM egress IP == FW Public IP&lt;/i&gt;" vertex="1">
          <mxGeometry height="170" width="320" x="945" y="1095" as="geometry" />
        </mxCell>
        <mxCell id="300" parent="10" style="shape=cloud;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#3b78c6;fillColor=#eaf2ff;fontSize=18;fontStyle=1;" value="Internet" vertex="1">
          <mxGeometry height="120" width="170" x="1768" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="401" edge="1" parent="10" source="103" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#4a4a4a;" target="200" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="402" edge="1" parent="10" source="112" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#4a4a4a;" target="200" value="">
          <mxGeometry as="geometry" />
        </mxCell>
        <mxCell id="403" edge="1" parent="10" source="200" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#4a4a4a;" target="300" value="">
          <mxGeometry as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
